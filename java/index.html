<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-java docs-doc-id-deploy-to-maven-central">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">How to deploy to maven central [Gradle] | Matt&#x27;s Wiki</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ngmatthew227.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ngmatthew227.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ngmatthew227.github.io/java/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-java-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-java-current"><meta data-rh="true" property="og:title" content="How to deploy to maven central [Gradle] | Matt&#x27;s Wiki"><meta data-rh="true" name="description" content="Recently I developed a package to manage the session of Spring framework using Cassandra DB. Because of self-developed, I have to make the imported as below, which is not recommended."><meta data-rh="true" property="og:description" content="Recently I developed a package to manage the session of Spring framework using Cassandra DB. Because of self-developed, I have to make the imported as below, which is not recommended."><link data-rh="true" rel="icon" href="/img/otter_icon.ico"><link data-rh="true" rel="canonical" href="https://ngmatthew227.github.io/java/"><link data-rh="true" rel="alternate" href="https://ngmatthew227.github.io/java/" hreflang="en"><link data-rh="true" rel="alternate" href="https://ngmatthew227.github.io/java/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Matt&#39;s Wiki RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Matt&#39;s Wiki Atom Feed">





<link rel="icon" href="/img/docusaurus.png">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(37, 194, 160)"><link rel="stylesheet" href="/assets/css/styles.afc34549.css">
<link rel="preload" href="/assets/js/runtime~main.31d9d658.js" as="script">
<link rel="preload" href="/assets/js/main.6460a293.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/otter_icon.svg" alt="Matt&#x27;s Wiki Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/otter_icon.svg" alt="Matt&#x27;s Wiki Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Matt&#x27;s Wiki</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">👨🏻‍🎓 WiKi</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/getting-started">Getting Started</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/java">Java</a></li></ul></div><a class="navbar__item navbar__link" href="/resources">🛠Resources</a><a class="navbar__item navbar__link" href="/blog">Blog</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/java/">How to deploy to maven central [Gradle]</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">How to deploy to maven central [Gradle]</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>How to deploy to maven central <!-- -->[Gradle]</h1><p>Recently I developed a package to manage the session of Spring framework using Cassandra DB. Because of self-developed, I have to make the imported as below, which is not recommended.</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.springframework.session.data.cassandra</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">spring-session-cassandra</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">0.1</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">scope</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">system</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">scope</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">systemPath</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${project.basedir}/src/main/resources/lib/spring-session-cassandra-0.1.jar</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">systemPath</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Also, I believe this project is also useful to those needed to use the Cassandra DB to manage the Session, therefore here I am to show how to deploy a project to the maven central.</p><hr><p><strong>Tips:</strong></p><p>While I try to deploy my project to the maven central, I follow many instruction from the Internet, but no one can let me follow from head to tail. Therefore, I decided to write my own one. Also, there is another thing I always encounter when I try to follow others instruction even the official website one, <strong>the Version problem</strong>. The syntax of different version of the different tools can be huge different. Below is the detail version of the tools I used in this article. Ensure you are using the same/similar version with me.</p><div class="language-  codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-  codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gardle == 7.6.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg (GnuPG) == 2.2.27</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">java == 11 (This one may not affect the publish environment)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-background-of-the-maven-central">1. Background of the maven central<a href="#1-background-of-the-maven-central" class="hash-link" aria-label="Direct link to 1. Background of the maven central" title="Direct link to 1. Background of the maven central">​</a></h2><p>Maven Central is a repository that stores binary artifacts for software libraries and frameworks written in Java and related languages. It serves as the default repository for Apache Maven, a popular build automation tool used in Java development, as well as other dependency management tools like Gradle and sbt.</p><p>Maven Central is operated by <strong>Sonatype</strong>, a company that provides software supply chain automation services to organizations around the world.</p><p>In order for a library or framework to be included in Maven Central, it must first go through a process called &quot;<strong>staging</strong>&quot;, where it is reviewed and tested by Sonatype&#x27;s team to ensure that it meets certain quality and stability standards. Once approved, the artifact is published to Maven Central and can be easily accessed by developers using tools like Maven or Gradle.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-upload-the-source-code-to-github">2. Upload the source code to Github<a href="#2-upload-the-source-code-to-github" class="hash-link" aria-label="Direct link to 2. Upload the source code to Github" title="Direct link to 2. Upload the source code to Github">​</a></h2><p>Before doing all the below works, you need to first upload the project to github.com or other platfom</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-create-a-sonatype-jira-account-and-create-issue">3. Create a Sonatype Jira account and create issue<a href="#3-create-a-sonatype-jira-account-and-create-issue" class="hash-link" aria-label="Direct link to 3. Create a Sonatype Jira account and create issue" title="Direct link to 3. Create a Sonatype Jira account and create issue">​</a></h2><p>Sonatype use  JIRA to manage the issue related to the maven central. </p><p><a href="https://issues.sonatype.org/secure/Signup!default.jspa" target="_blank" rel="noopener noreferrer">Sign up for Jira - Sonatype JIRA</a></p><p>After  you have a JIRA account, you can create a issue.</p><p><a href="https://issues.sonatype.org/secure/CreateIssue.jspa?pid=10134&amp;issuetype=21" target="_blank" rel="noopener noreferrer">Create Issue - Sonatype JIRA</a></p><p>In the create issue page you will see the below page, there are few information you must fill in:
<img loading="lazy" src="/assets/images/2023-06-12-12-57-30-image-1a6276035d5a5693de16903a248fcd65.png" width="1131" height="820" class="img_ev3q"></p><p>After created, you will see the below page, the next steps is to wait for the Assignee to review the issue.</p><p><img loading="lazy" src="/assets/images/2023-06-12-12-59-47-image-2c425eb8de948fb468011c59fa8eccaa.png" width="1648" height="758" class="img_ev3q"></p><hr><p><strong>Tips</strong></p><p>If you didn&#x27;t own the groupID, in my case, i should own ngmatthew227.com, it will ask me to prove I own this domain. It also provide how should I do if you didn&#x27;t own the domain, just follow it&#x27;s guide, then reopen the issue.</p><p><img loading="lazy" src="/assets/images/2023-06-12-14-02-44-image-b4e14799429ce11ea4c78e31ef4d7425.png" width="1055" height="312" class="img_ev3q"></p><p>In my case, I changed into <strong>io.github.ngmatthew227</strong></p><hr><p>If everything is fine, you should able to see the issue&#x27;s status become Resolved and the below message, then you can process to next step</p><p><img loading="lazy" src="/assets/images/2023-06-12-14-06-06-image-a6796e7296852606d78b37864c46e335.png" width="1085" height="243" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-prepare-the-pgp-key">4. Prepare the PGP Key<a href="#4-prepare-the-pgp-key" class="hash-link" aria-label="Direct link to 4. Prepare the PGP Key" title="Direct link to 4. Prepare the PGP Key">​</a></h2><p>For the package upload to the maven central, it must signed with the pgp. Therefore, we need prepare our own pgp key. The below process is run in <strong>linux</strong>.</p><ol><li><p><strong>Install gpg on Ubuntu</strong></p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> gnupg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg --help</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># my version is gpg (GnuPG) 2.2.27</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># the syntax of different version may different</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p><strong>Generate Key</strong></p><p>Run the below command and enter the name and email and password, then it will generate a key for you. <strong>Remember the password and the unique key, it will be useful later.</strong></p><p>After you generate the key, you can run <code>gpg --list-keys</code> to check all the existing keys</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gpg --gen-key</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><p>        <img loading="lazy" src="/assets/images/2023-06-13-09-24-29-image-614d229aca8dc18a6662607fa48bfa58.png" width="1116" height="572" class="img_ev3q"></p><ol start="3"><li><p><strong>Export the Key</strong></p><p>The tools will generate a pair of public key and private key. The public key will uploaded to key server for maven central to download / access. The private key will be used to sign the project when publish to the maven central.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># upload the public key the key server</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg --keyserver hkp://keys.openpgp.org --send-keys </span><span class="token variable" style="color:#36acaa">${your unique key here}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># export the private key, it will ask you to enter the password of the key you set before</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg --export-secret-keys -o secring.gpg</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Copy the <code>secring.gpg</code> to the root of the project</p></li></ol><hr><p><strong>Tips</strong></p><p>Different version of gpg tools in Linux may have different syntax, you may align the version of gpg with mine one or use the correct syntax under the version</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-prepare-the-pom-file">5. Prepare the POM file<a href="#5-prepare-the-pom-file" class="hash-link" aria-label="Direct link to 5. Prepare the POM file" title="Direct link to 5. Prepare the POM file">​</a></h2><p>The maven central required user fulfill the following requirement when they try to release the project to public:</p><ul class="contains-task-list containsTaskList_mC6p"><li class="task-list-item"><p><input type="checkbox" disabled=""> <!-- -->Signed by gpg</p></li><li class="task-list-item"><p><input type="checkbox" disabled=""> <!-- -->Provide sources code</p></li><li class="task-list-item"><p><input type="checkbox" disabled=""> <!-- -->Provide Javadoc</p></li><li class="task-list-item"><p><input type="checkbox" disabled=""> <!-- -->Valid POM information</p></li></ul><p>Now we are going to modify our build.gradle file to achieve the above requirement. Below is the example:</p><div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Define the plugins used for this project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plugins {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  id &#x27;java-library&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  id &#x27;maven-publish&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  id &#x27;signing&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Define the repositories used to download dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">repositories {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  mavenCentral()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Define project details</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group = &#x27;io.github.ngmatthew227&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">description = &#x27;Spring Session for Cassandra&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">archivesBaseName = &#x27;spring-session-cassandra&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version = &#x27;1.0&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Generate JARs with JavaDoc and source code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">java {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> withJavadocJar()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> withSourcesJar()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Define project dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dependencies {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> implementation &#x27;org.springframework.session:spring-session-core:2.7.1&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> implementation &#x27;org.springframework.data:spring-data-cassandra:3.4.11&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Define how the artifact should be published</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">publishing {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  publications {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Define a Maven publication named &quot;mavenJava&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> mavenJava(MavenPublication) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Specify the coordinates of the artifact</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   groupId = &#x27;io.github.ngmatthew227&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   artifactId = &#x27;spring-session-cassandra&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   version = &#x27;1.0&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   // Include the compiled Java code in the JAR file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   from components.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   // Configure the POM file for the artifact</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   pom {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     name = &#x27;Spring Session Cassandra&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     description = &#x27;Spring Session Cassandra provides SessionRepository implementation backed by Cassandra.&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     url = &#x27;https://github.com/ngmatthew227/spring-session-cassandra&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     licenses {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       license {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         name = &#x27;MIT License&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         url = &#x27;http://www.opensource.org/licenses/mit-license.php&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      // Specify information about the developers of the project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     developers {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       developer {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         id = &#x27;ngmatthew227&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         name = &#x27;Matthew Ng&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         email = &#x27;matthewlearn56@gmail.com&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     // Specify SCM information for the artifact</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     scm {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       connection = &#x27;scm:git:git://github.com/ngmatthew227/spring-session-cassandra.git&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       developerConnection = &#x27;scm:git:git://github.com/ngmatthew227/spring-session-cassandra.git&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       url = &#x27;http://github.com/ngmatthew227/spring-session-cassandra&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Define the Maven repository to publish artifacts to</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  repositories {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> maven {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   url = uri(&#x27;https://s01.oss.sonatype.org/service/local/staging/deploy/maven2/&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   credentials {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     username ossrhUsername // username for repository authentication</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     password ossrhPassword // password for repository authentication</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Sign the published artifacts with a GPG key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">signing {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> sign publishing.publications.mavenJava</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Generate JavaDoc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">javadoc {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> if(JavaVersion.current().isJava9Compatible()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     options.addBooleanOption(&#x27;html5&#x27;, true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As you can see the <code>ossrhUsername</code> and the <code>ossrhPassword</code> is not set in the build.gradle file, we have to create another file <code>gradle.properties</code> to store those data:</p><div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ossrhUsername=${your jira acct username}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ossrhPassword=${your jira acct password}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">signing.keyId=${your gpg key last 8 digit}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">signing.password=${your gpg key password}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">signing.secretKeyRingFile=secring.gpg</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>After you done all the above work. You can now finally go to our final step!! 👏👏👏</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="6-publish---">6. Publish ✨ ⭐ 🌟<a href="#6-publish---" class="hash-link" aria-label="Direct link to 6. Publish ✨ ⭐ 🌟" title="Direct link to 6. Publish ✨ ⭐ 🌟">​</a></h2><p>The process of publish as this: upload to nexus repo -&gt; close -&gt; release.</p><p>Run the below command under the cmd</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gradlew publish</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/assets/images/2023-06-13-10-21-31-image-bc015a93cf05dbf6b46f82014d4cfc9a.png" width="1061" height="152" class="img_ev3q"></p><p>After you run the above command, the library should now uploaded to nexus repository manager. Login with your Jira username and password.</p><p><a href="https://s01.oss.sonatype.org/#stagingRepositories" target="_blank" rel="noopener noreferrer">Nexus Repository Manager</a></p><p>You should able to see a new line in the Staging Repositories and the status is open as below. Click close, it will start to run the validation process. If the validation is passed. Click the Release button, after around 2 hours, you would able to check your library at maven central. 👍 👍</p><p><img loading="lazy" src="/assets/images/2019-01-12-repository-79a0982c05f5844415820da18b742cc1.png" width="1277" height="582" class="img_ev3q"></p><p>You can click the Activity tab at the bottom panel to view the process of validation, if it failed, the detail reason will also shown here.
<img loading="lazy" src="/assets/images/2023-06-13-09-55-43-image-885de5a8320ea95fd96cfec1b4e5b5db.png" width="428" height="533" class="img_ev3q"></p><p>Now, you can search your library at <a href="https://central.sonatype.com/" target="_blank" rel="noopener noreferrer">Maven Central.</a> Congratulations!!</p><p><img loading="lazy" src="/assets/images/2023-06-13-10-31-26-image-0867db3179ccfac3af5eb711430891c4.png" width="1633" height="877" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-06-13T03:19:49.000Z">Jun 13, 2023</time></b> by <b>ngmatthew227</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-background-of-the-maven-central" class="table-of-contents__link toc-highlight">1. Background of the maven central</a></li><li><a href="#2-upload-the-source-code-to-github" class="table-of-contents__link toc-highlight">2. Upload the source code to Github</a></li><li><a href="#3-create-a-sonatype-jira-account-and-create-issue" class="table-of-contents__link toc-highlight">3. Create a Sonatype Jira account and create issue</a></li><li><a href="#4-prepare-the-pgp-key" class="table-of-contents__link toc-highlight">4. Prepare the PGP Key</a></li><li><a href="#5-prepare-the-pom-file" class="table-of-contents__link toc-highlight">5. Prepare the POM file</a></li><li><a href="#6-publish---" class="table-of-contents__link toc-highlight">6. Publish ✨ ⭐ 🌟</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Matt's Wiki, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.31d9d658.js"></script>
<script src="/assets/js/main.6460a293.js"></script>
</body>
</html>